<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clonagem de Imagem</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative; /* Adicionado position relative ao body para posicionar imagens de acordo com ele */
        }

        .clonavel {
            position: absolute;
        }

        .imagemOriginal {
            position: relative;
            z-index: 0; /* Garante que a imagem apareça sobre a área proibida */
            border: 2px solid transparent; /* Adiciona uma borda transparente inicialmente */
            cursor: pointer; /* Muda o cursor para indicar que é clicável */
        }
    </style>
</head>

<body>

    <button id="imagemOriginal1" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/X - fraturas.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    <button id="imagemOriginal2" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/Hemorragias.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    <button id="imagemOriginal3" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/Z - fraturas.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    <button id="imagemOriginal4" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/X - fraturas.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    <button id="imagemOriginal5" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/Y - fraturas.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    <button id="imagemOriginal6" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/Z - fraturas.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    <button id="imagemOriginal7" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/Y - fraturas.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    <button id="imagemOriginal8" class="clonavel imagemOriginal" onclick="alternarClonagem(event)">
        <img src="/img/Z - fraturas.svg" alt="Imagem" style="pointer-events:none;">
    </button>
    

    <script>
        const imagensOriginais = document.querySelectorAll('.imagemOriginal');

        function alternarClonagem(event) {
            imagensOriginais.forEach((imagem) => {
                if (imagem !== event.currentTarget) {
                    imagem.clicouNaImagem = false;
                    imagem.style.border = '2px solid transparent';
                }
            });

            const clicouNaImagem = !event.currentTarget.clicouNaImagem;
            event.currentTarget.clicouNaImagem = clicouNaImagem;

            if (clicouNaImagem) {
                event.currentTarget.style.border = '2px solid blue'; /* Adiciona uma borda azul quando a clonagem está ativada */
            } else {
                event.currentTarget.style.border = '2px solid transparent'; /* Remove a borda quando a clonagem é desativada */
            }
            event.stopPropagation(); // Impede a propagação do evento para a área proibida
        }

        function clicar(event) {
            imagensOriginais.forEach((imagem) => {
                if (imagem.clicouNaImagem) {
                    const rect = imagem.getBoundingClientRect();
                    const dentroDosLimitesX = event.clientX >= rect.left && event.clientX <= rect.right;
                    const dentroDosLimitesY = event.clientY >= rect.top && event.clientY <= rect.bottom;

                    if (!dentroDosLimitesX || !dentroDosLimitesY) {
                        const clone = imagem.cloneNode(true);
                        const posX = event.clientX - imagem.offsetWidth / 2;
                        const posY = event.clientY - imagem.offsetHeight / 2;
                        clone.style.position = 'absolute';
                        clone.style.left = posX + 'px';
                        clone.style.top = posY + 'px';
                        clone.style.border = 'none'; /* Remove a borda da imagem clonada */
                        clone.addEventListener('click', function () {
                            document.body.removeChild(clone);
                        });
                        document.body.appendChild(clone);
                    }
                }
            });
        }

        imagensOriginais.forEach((imagemOriginal) => {
            imagemOriginal.clicouNaImagem = false;
        });

        document.body.addEventListener('click', clicar);
    </script>
</body>

</html>
